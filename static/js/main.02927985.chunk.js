(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],[,,,,function(e,a,t){e.exports=t(14)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(3),l=t.n(r),o=(t(9),t(1));t(10);var m=function(e){var a="equation"+(e.isCalc?" calculated":"");return c.a.createElement("p",{className:a},e.amt1," ",e.curr1," = ",e.amt2," ",e.curr2)};t(11);var u=function(e){return c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:e.id},e.label),c.a.createElement("select",{id:e.id,className:"select-css",value:e.value,onChange:function(a){return e.onChange(a,e.id)},onBlur:function(a){return e.onChange(a,e.id)}},e.options.map((function(a){return c.a.createElement("option",{key:a.symbol,value:a.symbol,disabled:a.symbol===e.disabledValue},a.name)}))))};t(12);var s=function(e){return c.a.createElement("div",{className:"control"},c.a.createElement("label",{htmlFor:e.id},e.label),c.a.createElement("div",{className:"input-wrap"},c.a.createElement("input",{type:"text",id:e.id,className:"input-amt",placeholder:"Enter an amount",value:e.amount,onChange:e.onChange}),c.a.createElement("span",null,e.currency)))};t(13);var i=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({symbol:"BTC",name:"Bitcoin"}),i=Object(o.a)(l,2),b=i[0],d=i[1],E=Object(n.useState)({symbol:"ETH",name:"Ethereum"}),p=Object(o.a)(E,2),f=p[0],v=p[1],y=Object(n.useState)(1),h=Object(o.a)(y,2),N=h[0],j=h[1],O=Object(n.useState)(1),g=Object(o.a)(O,2),C=g[0],S=g[1],k=Object(n.useState)(""),w=Object(o.a)(k,2),A=w[0],x=w[1],B=Object(n.useState)(""),I=Object(o.a)(B,2),T=I[0],V=I[1],q=Object(n.useState)("amount1"),F=Object(o.a)(q,2),J=F[0],L=F[1],P=Object(n.useState)(!0),D=Object(o.a)(P,2),H=D[0],M=D[1],U=Object(n.useState)(!1),z=Object(o.a)(U,2),G=z[0],K=z[1];function Q(e){if(e.ok)return e.json();throw Error(e.statusText)}function R(e){var a=100;return e<100?a=1e4:e<.001&&(a=1e6),Math.round((e+Number.EPSILON)*a)/a}Object(n.useEffect)((function(){fetch("https://api.coinpaprika.com/v1/tickers").then(Q).then((function(e){var a=e.filter((function(e){return e.rank>0&&e.rank<=10})).map((function(e){return{id:e.id,name:e.name,symbol:e.symbol,rank:e.rank,price:e.quotes.USD.price}}));r(a),M(!1)})).catch((function(e){console.log(e),K(!0),M(!1)}))}),[]),Object(n.useEffect)((function(){if(t.length>0){var e=t.find((function(e){return e.symbol===b.symbol})),a=t.find((function(e){return e.symbol===f.symbol})),n=a.price/e.price,c=e.price/a.price;j(n),S(c),"amount1"===J?V(A*N):x(T*C)}}));var W=function(e,a){if("curr1"===a){var n=t.find((function(a){return a.symbol===e.target.value}));d(n)}else{var c=t.find((function(a){return a.symbol===e.target.value}));v(c)}};function X(e){"amount1"===e.target.id?x(Number(e.target.value)):V(Number(e.target.value)),L(e.target.id)}return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",null,"Currency Converter")),c.a.createElement("main",{className:"App-main"},c.a.createElement("section",{className:"App-section"},c.a.createElement("h2",{className:"visually-hidden"},"Choose currencies"),c.a.createElement("div",{className:"col"},c.a.createElement(u,{id:"curr1",label:"Currency 1",options:t,value:b.symbol,disabledValue:f.symbol,onChange:W})),c.a.createElement("div",{className:"col"},c.a.createElement("button",{className:"btn-swap",onClick:function(){return function(){var e=b;d(f),v(e);var a=A;x(T),V(a)}()}},"Swap")),c.a.createElement("div",{className:"col"},c.a.createElement(u,{id:"curr2",label:"Currency 2",options:t,value:f.symbol,disabledValue:b.symbol,onChange:W})),c.a.createElement("div",{className:"display"},c.a.createElement(m,{amt1:1,curr1:b.name,amt2:R(N),curr2:f.name}),c.a.createElement(m,{amt1:R(C),curr1:b.name,amt2:1,curr2:f.name}))),c.a.createElement("section",{className:"App-section"},c.a.createElement("h2",{className:"visually-hidden"},"Enter amounts"),c.a.createElement("div",{className:"col"},c.a.createElement(s,{id:"amount1",label:"Amount of currency 1",amount:A,currency:b.symbol,onChange:X})),c.a.createElement("div",{className:"col"},c.a.createElement(s,{id:"amount2",label:"Amount of currency 2",amount:T,currency:f.symbol,onChange:X})),c.a.createElement("div",{className:"display"},c.a.createElement(m,{amt1:A?R(A):"",curr1:A?b.name:"---",amt2:T?R(T):"",curr2:T?f.name:"---",isCalc:!0}))),H?c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"curtain"}),c.a.createElement("div",{className:"loading-text"},"Loading...")):"",G?c.a.createElement("p",{className:"error"},"Network error while attempting to connect to API."):""))};l.a.render(c.a.createElement(i,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.02927985.chunk.js.map